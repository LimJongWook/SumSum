<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="styleSheet" href="/css/board.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <title>Document</title>
</head>
<body>
<div class="base">
    <!-- 상단 고정 바 -->
    <div class="top-header">
        <div class="top-header-wrap">
            <button class="menuBtn" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample" id="slidebutton">
                <span class="a-alarmBadge" style="top: 11px; right: 9px;"></span>
                <span class="menuBar"></span>
                <span class="menuBar" style="width:19px; height: 4px;"></span>
                <span class="menuBar"></span>
            </button>
            <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasExampleLabel">
                        <div class = "sidebar-title">
                            <strong>썸썸</strong>
                        </div>
                    </h5>
                    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="sidebar-body">
                    <div class="" th:object="${user}">
                        <a href="/login">
                            <img style="width: 70px; height: 70px; margin-left: -94px;" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR3MAdEhs1pDTSXdLl7RZn9t_WwnWNwsnt5ZA&usqp=CAU">
                        </a>
                        <a th:if="${session.userName ==null}" class="user-info" href="/login">
                            로그인하기
                        </a>
                        <a th:if="${session.userName}" th:text="${session.userName} + '님 어서오세요.'" class="user-info" href="/getMyIdeal"></a>
                    </div>
                    <div class="main-link">
                        <a href="/myPagePoint" th:if="${session.userList != null}" >
                            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzUycHQiIGhlaWdodD0iNzUycHQiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc1MiA3NTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8cGF0aCBkPSJtMzA0Ljk2IDE4Ni40OWMtMzcuODQ0IDAtNzIuMTQ4IDcuNDM3NS05Ny44MjQgMjAuMjczLTI1LjY3NiAxMi44NDQtNDQuMjUgMzEuOTk2LTQ0LjI1IDU1LjY0OHYyMjcuMzJjMCAyMy40MzQgMTguMzcxIDQyLjQ5MiA0NC4xMDIgNTUuMzUyIDI1LjczIDEyLjg1OSA2MC4wODYgMjAuNDIyIDk3Ljk3MyAyMC40MjIgMzEuODQ0IDAgNjEuMTQ1LTUuNDM3NSA4NC45NDktMTQuODAxIDE4LjYwNSA5LjQyOTcgMzkuNjEzIDE0LjgwMSA2MS44NjMgMTQuODAxIDc1LjczOCAwIDEzNy4zNC02MS42MDIgMTM3LjM0LTEzNy4zNHMtNjEuNjAyLTEzNy4zNC0xMzcuMzQtMTM3LjM0Yy0xLjYyODkgMC0zLjI2OTUgMC4wODk4NDQtNC44ODI4IDAuMTQ4NDR2LTI4LjU2MmMwLTIzLjY1Ni0xOC40MjYtNDIuODA5LTQ0LjEwMi01NS42NDUtMjUuNjc2LTEyLjgzNi01OS45OC0yMC4yNzMtOTcuODI0LTIwLjI3M3ptMCAxOS4wOWMzNS4zOTEgMCA2Ny4zNjcgNy4zMzk4IDg5LjY4NCAxOC41IDIyLjMxNiAxMS4xNiAzMy41OTQgMjUuMzY3IDMzLjU5NCAzOC4zMzItNC40MDIzIDIwLjExMy0xOS4xMzcgMzEuMTgtMzMuNTk0IDM4LjE4NC0yMi4zMTYgMTEuMTYtNTQuMjkzIDE4LjUtODkuNjg0IDE4LjVzLTY3LjM2Ny03LjMzOTgtODkuNjg0LTE4LjVjLTE2LjUzMS04LjU2NjQtMzEuNTgyLTIxLjYyMS0zMy41OTQtMzguMTg0IDAtMTIuOTYxIDExLjI3Ny0yNy4xNzIgMzMuNTk0LTM4LjMzMiAyMi4zMTYtMTEuMTU2IDU0LjI4OS0xOC40OTYgODkuNjg0LTE4LjQ5NnptLTEyMy4xMyA5NS4zMTJjNy4wMTU2IDYuNDY0OCAxNS42OCAxMi4yMDcgMjUuMzA5IDE3LjAyIDI1LjY3NiAxMi44MzYgNTkuOTggMjAuMjczIDk3LjgyNCAyMC4yNzMgMTYuNDE0IDAgMzIuMTAyLTEuNTA3OCA0Ni43NjYtNC4xNDQ1LTExLjE3MiAxMS44NjctMjAuMjI3IDI1Ljc1NC0yNi42NDEgNDAuOTk2LTYuNTUwOCAwLjU3NDIyLTEzLjI1NCAxLjAzNTItMjAuMTI5IDEuMDM1Mi0zNS4zMzYgMC02Ny4yNjYtNy4zNjMzLTg5LjUzNS0xOC41LTIyLjI3LTExLjEzMy0zMy41OTQtMjUuMTM3LTMzLjU5NC0zOC4zMjh6bTI2OS45NCA4Ljg3ODljNjUuNSAwIDExOC4zOSA1Mi44OTUgMTE4LjM5IDExOC4zOXMtNTIuODk1IDExOC4zOS0xMTguMzkgMTE4LjM5LTExOC4zOS01Mi44OTUtMTE4LjM5LTExOC4zOSA1Mi44OTUtMTE4LjM5IDExOC4zOS0xMTguMzl6bS0yNjkuOTQgNDcuOTQ5YzYuOTcyNyA2LjQxNDEgMTUuNTgyIDEyLjA4MiAyNS4xNiAxNi44NzEgMjUuNzE5IDEyLjg1OSA2MC4wNzQgMjAuNDIyIDk3Ljk3MyAyMC40MjIgNC42Mjg5IDAgOS4xMTMzLTAuMjE0ODQgMTMuNjE3LTAuNDQ1MzEtMi43MDcgMTAuNzQyLTQuMTQ0NSAyMi4wMjMtNC4xNDQ1IDMzLjU5NCAwIDEuNTI3MyAwLjA5NzY1NiAzLjA3MDMgMC4xNDg0NCA0LjU4OTgtMy4xNzU4IDAuMTI1LTYuMzU5NCAwLjE0ODQ0LTkuNjIxMSAwLjE0ODQ0LTM1LjMzNiAwLTY3LjI2Ni03LjM2MzMtODkuNTM1LTE4LjUtMjIuMjczLTExLjEzMy0zMy41OTgtMjUuMTM3LTMzLjU5OC0zOC4zMjh6bTAgNTYuODI4YzYuOTcyNyA2LjQxNDEgMTUuNTgyIDEyLjA4MiAyNS4xNiAxNi44NzEgMjUuNzE5IDEyLjg1OSA2MC4wNzQgMjAuNDIyIDk3Ljk3MyAyMC40MjIgMy44ODY3IDAgNy43NS0wLjExMzI4IDExLjU0My0wLjI5Mjk3IDIuMjUgMTMuMDQ3IDYuMzI0MiAyNS40OCAxMS45ODggMzctNy42MzY3IDAuNzYxNzItMTUuNDQ5IDEuMTgzNi0yMy41MzEgMS4xODM2LTM1LjMzNiAwLTY3LjI2Ni03LjM2MzMtODkuNTM1LTE4LjUtMjIuMjczLTExLjEzNy0zMy41OTgtMjUuMTQxLTMzLjU5OC0zOC4zMjh6bTAgNTYuODI4YzYuOTcyNyA2LjQxNDEgMTUuNTgyIDEyLjA4MiAyNS4xNiAxNi44NzEgMjUuNzE5IDEyLjg1OSA2MC4wNzQgMjAuNDIyIDk3Ljk3MyAyMC40MjIgMTEuNzkzIDAgMjMuMjQ2LTAuNjY3OTcgMzQuMTg4LTIuMDcwMyA4LjMyNDIgMTEuOTMgMTguNDQ5IDIyLjMyIDMwLjA0MyAzMS4wNzgtMTguNjggNS40OTIyLTQwLjY3MiA4Ljg3ODktNjQuMjMgOC44Nzg5LTM1LjMyOCAwLTY3LjI1LTcuMzYzMy04OS41MzUtMTguNS0yMi4yODktMTEuMTI5LTMzLjU5OC0yNS4xNDEtMzMuNTk4LTM4LjMyNHoiLz4KPC9zdmc+Cg==">
                            포인트 내역
                        </a>
                        <a href="/list"  th:if="${session.userList != null}" >
                            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzUycHQiIGhlaWdodD0iNzUycHQiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc1MiA3NTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8cGF0aCBkPSJtNTYwLjI1IDU0MS44NWgtMzY3Ljg2Yy0xOS43MDMgMC0zNS43MDMtMTcuOTQ1LTM1LjcwMy00MC4wNTF2LTI1MC44NWMwLTIyLjEwNSAxNi00MC4wNTEgMzUuNzAzLTQwLjA1MWgzNjcuOTVjOS43MTA5IDAgMTguNzc3IDQuMzQ3NyAyNS41MjcgMTIuMTE3IDYuNTY2NCA3LjQ5MjIgMTAuMTc2IDE3LjQ4IDEwLjE3NiAyNy45MzR2MjUwLjg1YzAuMDAzOTA2IDIyLjAxMi0xNi4wOSA0MC4wNTEtMzUuNzkzIDQwLjA1MXptLTM2Ny44Ni0zMTcuMDhjLTEyLjAyMyAwLTIxLjgyOCAxMS43NDYtMjEuODI4IDI2LjE3NnYyNTAuODVjMCAxNC40MyA5LjgwNDcgMjYuMTc2IDIxLjgyOCAyNi4xNzZoMzY3Ljk1YzEyLjAyMyAwIDIxLjgyOC0xMS43NDYgMjEuODI4LTI2LjE3NmwwLjAwMzkwNi0yNTAuODVjMC03LjEyMTEtMi40MDYyLTEzLjc4MS02Ljc1MzktMTguODcxLTQuMDcwMy00LjcxODgtOS40MzM2LTcuMzA4Ni0xNS4wNzgtNy4zMDg2em0xNy4yOTcgMjYxLjk1Yy0xLjY2NDEgMC0zLjMyODEtMC41NTQ2OS00LjYyNS0xLjc1NzgtMi44NjcyLTIuNTg5OC0zLjE0NDUtNi45Mzc1LTAuNTU0NjktOS44MDQ3bDEwNS43Mi0xMTguODYtMTA5LjA1LTg1LjM3MWMtMy4wNTA4LTIuNDA2Mi0zLjUxNTYtNi43NTM5LTEuMjAzMS05LjcxMDkgMi40MDYyLTMuMDUwOCA2Ljc1MzktMy41MTU2IDkuNzEwOS0xLjIwMzFsMTY2LjU5IDEzMC41MSA0OC43NDYtMzguMTk5YzAuMDkzNzUtMC4wOTM3NSAwLjE4MzU5LTAuMDkzNzUgMC4yNzczNC0wLjE4MzU5bDExNy41Ni05Mi4wMzVjMy4wNTA4LTIuNDA2MiA3LjM5ODQtMS44NTE2IDkuNzEwOSAxLjIwMzEgMi40MDYyIDMuMDUwOCAxLjg1MTYgNy4zOTg0LTEuMjAzMSA5LjcxMDlsLTExMS42NCA4Ny40MDYgMTAxLjU2IDEwOS4wNWMyLjU4OTggMi43NzM0IDIuNDk2MSA3LjIxNDgtMC4zNzEwOSA5LjgwNDctMi43NzM0IDIuNTg5OC03LjIxNDggMi40OTYxLTkuODA0Ny0wLjM3MTA5bC0xMDIuMzktMTA5Ljg5LTQ4LjA5OCAzNy43NDJjLTIuNDk2MSAxLjk0MTQtNi4wMTE3IDEuOTQxNC04LjYwMTYgMGwtNTAuODcxLTM5Ljg2Ny0xMDYuMzcgMTE5LjVjLTEuMjk2OSAxLjU3NDItMy4xNDQ1IDIuMzEyNS01LjA4OTggMi4zMTI1eiIvPgo8L3N2Zz4K">
                            쪽지
                        </a>
                        <a href="/company">
                            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzUycHQiIGhlaWdodD0iNzUycHQiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc1MiA3NTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8Zz4KICA8cGF0aCBkPSJtNDk2LjExIDE4Mi4wN2MtMjguMDI3LTMuMzE2NC01Ni43ODEgMy41NTA4LTgwLjk3MyAxOS4zNC0xNi40NDkgMTAuNzM0LTI5Ljc4OSAyNS4xNzItMzkuMTg4IDQyLjA0My05LjQwMjMtMTYuODc1LTIyLjc0Mi0zMS4zMDUtMzkuMTg4LTQyLjA0My0yNC4xOTEtMTUuNzg5LTUyLjk0OS0yMi42NTYtODAuOTczLTE5LjM0LTI3LjI2MiAzLjIyMjctNTEuNzE1IDE2LjI2Mi02OC44NjMgMzYuNzA3LTE5LjE1NiAyMi44MzYtMjkuMjgxIDU0LjcxNS0yOS4yODEgOTIuMjA3IDAgMTI0LjAyIDIwMy4wMiAyNTYuNzkgMjExLjY3IDI2Mi4zOCAyLjExMzMgMS4zNjcyIDQuNDg0NCAyLjAyMzQgNi44MjgxIDIuMDIzNCAwLjE0MDYyIDAgMC4yODEyNS0wLjAyMzQzOCAwLjQyMTg4LTAuMDIzNDM4IDAuMTM2NzIgMC4wMDM5MDcgMC4yNzM0NCAwLjAyMzQzOCAwLjQxNzk3IDAuMDIzNDM4IDIuMzU1NSAwIDQuNzM0NC0wLjY2MDE2IDYuODU5NC0yLjA0MyA4LjU4OTgtNS41OTM4IDIxMC40Mi0xMzguMzcgMjEwLjQyLTI2Mi4zNiAwLTM3LjQ4NC0xMC4xMjUtNjkuMzcxLTI5LjI3Ny05Mi4yMDctMTcuMTY0LTIwLjQ0NS00MS42MTctMzMuNDg0LTY4Ljg3NS0zNi43MDd6bS0yNS4xNjQgMjg5Ljg2Yy0zOS4zNTUgMzcuMDU1LTc5LjE5NSA2NS40OTYtOTQuNDEgNzUuOTUzLTE1LjIzOC0xMC40MDYtNTUuMTQ4LTM4LjcxNS05NC43MzgtNzUuNzI3LTQ1LjE0OC00Mi4yMTUtOTguOTY1LTEwNC40NC05OC45NjUtMTYxLjE4IDAtMzEuNDg4IDguMDg5OC01Ny43NzcgMjMuMzkxLTc2LjAxNiAxMy4xOTktMTUuNzM4IDMxLjM1OS0yNS4zNzkgNTIuNTIzLTI3Ljg3OSA0MS4xMDItNC44NjMzIDkxLjc4OSAxOS4xMTMgMTA0Ljc1IDczLjEyNSAxLjM3ODkgNS43NDYxIDYuNDkyMiA5LjYwNTUgMTIuMTQ4IDkuNjQwNiAwLjA5NzY1NyAwLjAwMzkwNyAwLjE5OTIyIDAuMDAzOTA3IDAuMjk2ODggMC4wMDM5MDcgMC4xMDU0NyAwIDAuMjA3MDMgMCAwLjMxMjUtMC4wMDM5MDcgNS42NTYyLTAuMDQyOTY4IDEwLjc2Ni0zLjkwMjMgMTIuMTQ1LTkuNjQwNiAxMi45NjEtNTQuMDEyIDYzLjY2NC03Ny45ODggMTA0Ljc1LTczLjEyNSAyMS4xNiAyLjUwMzkgMzkuMzIgMTIuMTQ1IDUyLjUyMyAyNy44NzkgMTUuMzAxIDE4LjI0MiAyMy4zOTEgNDQuNTI3IDIzLjM5MSA3Ni4wMTYgMCA1Ni42NzYtNTMuMzU1IDExOC44LTk4LjExNyAxNjAuOTV6Ii8+CiAgPHBhdGggZD0ibTQ2Ny43NSAyMzUuMDFjLTYuOTU3IDAuMDc0MjE5LTEyLjUzNSA1Ljc3MzQtMTIuNDYxIDEyLjczIDAuMDc0MjE5IDYuOTEwMiA1LjY5NTMgMTIuNDYxIDEyLjU5NCAxMi40NjFoMC4xMzY3MmMxMi4wMTItMC4xMTcxOSAyMi45MSA0LjEwOTQgMzAuODIgMTEuOTM4IDkuODMyIDkuNzI2NiAxNS4wMjcgMjQuODgzIDE1LjAyNyA0My44MjggMCA2Ljk1NyA1LjY0MDYgMTIuNTk4IDEyLjU5OCAxMi41OTggNi45NTcgMCAxMi41OTgtNS42NDA2IDEyLjU5OC0xMi41OTggMC0zMi42MjUtMTIuMjM4LTUxLjU3OC0yMi41LTYxLjczNC0xMi43MzgtMTIuNTk4LTMwLjA1NS0xOS40MjYtNDguODEyLTE5LjIyM3oiLz4KIDwvZz4KPC9zdmc+Cg==">
                            썸썸 소개
                        </a>
                        <a href="/myPageText" th:if="${session.userList != null}" >
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR3MAdEhs1pDTSXdLl7RZn9t_WwnWNwsnt5ZA&usqp=CAU">
                            계정 설정
                        </a>
                    </div>
                </div>
                <div class="menuList">
                    <a class="item" href="/idealList">
                        이상형 찾기
                    </a>
                    <a class="item" href="/marry">
                        나의 결혼이상형
                    </a>
                    <a class="item" href="/love">
                        나의 연애이상형
                    </a>
                    <a class="item" href="/board/appilBoardList">
                        어필하기
                    </a>
                    <a class="item" href="/board/boardList">
                        고민상담
                    </a>
                    <a class="item" href="/board/reviewBoardList">
                        후기
                    </a>
                </div>
                <div class="signup-btn" th:if="${session.userList == null}" >
                    <a href="/sign">
                        회원가입
                    </a>
                </div>
            </div>
            <h1 class="main-logo">
                <a href="/main">
                    <img src="/img/sumsum_logo.png">
                </a>
            </h1>
            <div class="right-header">
                <!-- 포인트 점수 받아오기 -->
                <a class="point" href="/myPagePoint" th:text="${point == null ? '잔여포인트 0원' : '잔여포인트 ' + point + '원'}">
                    잔여포인트 0점
                </a>
                <!-- 채팅 받아오기 -->
                <a class="chatting" href="/list">
                    쪽지
                </a>
                <!--로그인 회원 이름-->
                <a th:if="${session.userList != null}" class="login" th:text="${session.userList.userName + '님 환영합니다.'}">
                </a>
                <!-- 로그인 -->
                <a th:if="${session.userList == null}" class="login" href="/login">
                    로그인
                </a>
                <!-- 회원가입 -->
                <a th:if="${session.userList == null}" class="signup" href="/sign">
                    회원가입
                </a>
                <a th:if="${session.userList != null}" class="signup" href="/user/logout">
                    로그아웃
                </a>
            </div>
        </div>
    </div>
    <!--상단바  -->
    <div class="page">
        <header class="header-default header">
            <div class="banner" style="background: #edacb1;">
                <div class="container reative">
                    <div class="image-wrap md-2">
                        <img class="cate-image"src="/img/후기배너.png" style="bottom:7px; right: 18px;">
                    </div>
                    <div class="title-wrap text-color z-10" style="display: flex; align-items: center;">
                        <div>
                            <div class="title-margin">
                                <span class="title">후기</span>
                            </div>
                            <div class="title-margin">
                                <small>홈페이지를 이용한 후기를 작성해주세요.</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <section class="a-container no-padding-xs" style="width: 100%;">
            <div class="row" >
                <main class="main-board-layout" style="width: 95%;">
                    <div class="main-board-detail">
                        <div class="main-board">
                            <h3><a href="/board/reviewBoardList" class="button small">목록 보기</a></h3>
                            <section style=" border: 1px solid #e3e3e3;" >
                                <article class="board">
                                    <aside class="board-side">
                                        <button class="board-side-badge board-button badge heart heartDown" style="display: flex; flex-direction: column;">
                                            <i class=" icon good-button like-cntBtn" style="margin-left: 12px;">♥</i>
                                            <span style="margin-top:12px; margin-left: 18px;"class="number like-count"></span>
                                        </button>
                                    </aside>
                                    <div class="main-content-layout">
                                        <form action="/board/reviewBoardDelete" method="post">
                                            <input type="text" style="display: none;" th:field="${reviewBoard.boardNum}">
                                            <header class="main-content-header">
                                                <h1 class="main-content-title">
                                            <span>
                                                <i class="icon" style="font-size: 29px; font-weight: 700;">Q.</i>
                                            </span>
                                                    <span style="color:black;" th:text="${reviewBoard.boardTitle}"></span>
                                                </h1>
                                                <div class="justify-content">
                                                    <div class="item-center">
                                                        <div class="userName">
                                                            <a href="/selectHuman.html">
                                                                <span style="background-image: url('https://www.a-ha.io/_nuxt/img/default_profile.f6f75b2.svg');width: 18px; height: 18px;"></span>
                                                            </a>
                                                            <div class="overflow-hidden justify-content">
                                                                <div class="item-center flex">
                                                                    <a ></a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <span class="write-date" th:text="${reviewBoard.boardUpdateDate}"></span>
                                                    </div>
                                                    <th:block th:if="${reviewBoard.userNum} == ${session.userNum}">
                                                        <div>
                                                            <button type="button" onclick="goUpdate()">수정</button>
                                                            <button type="submit" >삭제</button>
                                                        </div>
                                                    <th:block>
                                                </div>
                                            </header>
                                        </form>
                                        <div class="main-content">
                                            <div class="content">
                                                <p th:utext="${reviewBoard.boardContent}"></p>
                                            </div>
                                        </div>
                                        <footer class="main-content-footer">
                                            <div>
                                            <span class="float-none">
                                                <button class="curious board-button question-button button-outline button-all heart">
                                                    <span class="likeCount"></span>
                                                </button>
                                                <button class="question-button declaration-button button-outline warringButton" onclick="declaration()" style="margin-left: 0.75rem;">
                                                    <i class="declaration">🚨</i>
                                                    <span class="declaration-text warringCount"></span>
                                                </button>
                                            </span>
                                                <button class="board-button button-comment button-none comment-button">
                                                    <i>💬</i>
                                                    <span style="font-size:18px;" class="reply-total"></span>
                                                </button>
                                            </div>
                                            <div class="commentWrapper" style="display: none;">
                                                <div class="commentList">
                                                    <div class="commentEditor" >
                                                        <span class="profile-image"style="background-image: url('https://www.a-ha.io/_nuxt/img/default_profile.f6f75b2.svg');width: 23px; height: 23px; margin-top: 12px;"></span>
                                                        <div class="commentEditor-input relative">
                                                            <div class="editor">
                                                                <div class="editor-content editor-comment" >
                                                                    <input id="comment" class="comment" type="text" name="comment" placeholder="댓글을 입력하세요.">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div style="text-align: right;">
                                                            <button class="comment-submit board-button" style="font-size: .875rem; width: 6rem;" onclick="register()">등록</button>
                                                        </div>
                                                    </div>
                                                    <div class="reply_list">
                                                        <!--댓글 목록들-->
                                                    </div>
                                                    <div class="paging" style="text-align: center; font-size: 17px; margin-top: 10px;"></div>
                                                </div>
                                            </div>
                                        </footer>
                                    </div>
                                </article>
                            </section>
                        </div>
                        <aside class="side-bar flex">
                            <div class="sticky block side-bar-layout flex" style="top:84px">
                                <div class="mt-0 order a-card mb-2" style="border: 1px solid #e3e3e3;">
                                    <header class="a-card-header">
                                        <h5>아래 후기도 확인해보세요!</h5>
                                        <div class="flex a-card-header-tag label">
                                            <span>AI 추천</span>
                                        </div>
                                    </header>
                                    <div class="a-card-content">
                                        <ul class="list-none">
                                            <th:block th:each="board,num:${boardList}">
                                                <th:block th:if="${num.index <= 3}">
                                                    <li class="listItem" th:object="${board}" style="margin-bottom: 10px;">
                                                        <a th:href="@{/board/reviewBoard(boardNum=*{boardNum},boardField=*{boardField})}">
                                                            <i class="list-icon list-icon-tag">Q.</i>
                                                            <span th:text="*{boardTitle}"></span>
                                                        </a>
                                                    </li>
                                                <th:block>
                                            <th:block>
                                        </ul>
                                    </div>
                                </div>
                                <button class="question-action button-action" >
                                    <span><a href="/board/boardWrite" style="color:#fff";>후기작성하러 가기</a><span>
                                </button>
                            </div>
                        </aside>
                    </div>
                </main>
            </div>
        </section>
    </div>
</div>
<!-- 쪽지 -->
<input class="channel-talk-button" onclick="showPopup();"/>
<!-- 쪽지 -->
<!-- footer -->
<footer class="footer">
    <div class="footer-container">
        <div class="footer-logo">
            <a href="../main.html">
                <img src="/img/sumsum_logo.png">
            </a>
        </div>
        <div style="margin-left: 38px;">
            <ul class="footer-list">
                <li class="ft">썸썸소개</li>
                <li class="ft">이용약관</li>
                <li class="ft">개인정보처리방침</li>
                <li class="ft">자주 묻는 질문(FAQ)</li>
                <li class="ft">문의하기</li>
            </ul>
            <ul class="footer-info">
                <li class="ft">법인명: 썸썸 코벤져스</li>
                <li class="ft">사업자 등록번호:123-12-123456</li>
                <li class="ft">사업자 정보확인</li>
                <li class="ft">대표자: 코벤저스</li>
                <li class="ft">주소: 서울 강남구 테헤란로 146</li>
            </ul>
            <div class="ft-1">
                © 2022 SomeSome. All rights reserved.
            </div>
        </div>
    </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
<script>
    /* 쪽지 팝업창 */
    function showPopup() { window.open("../letter.html", "a", "width=400, height=600, left=1500, top=200"); }
</script>
<script src= "https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="/js/board.js"></script>
<script src="/js/like.js"></script>
<script src="/js/reply.js"></script>
<script src="/js/warring.js"></script>
<script th:inline="javascript">
    let boardNum = [[${reviewBoard.boardNum}]];
    let boardField =[[${reviewBoard.boardField}]];
    let userNum = [[${session.userNum}]];

    function register(){
        $(".comment-submit").on("click",function () {
            if(userNum == null){
                alert("로그인을 하셔야합니다.")
                return location.href="/login";
            }
        })
    }

    let pageNum = 1;
    let replyList =$(".reply_list");
    let replyTotal =$(".reply-total");

    showList(pageNum);

    function showList(page) {

        replyService.getList({
            boardNum: boardNum,
            page: page,
        }, function (list, total) {
            let text = "";
            if (list == null || list.length == 0) {
                replyList.html("<p style='margin: 0; padding:5px 41px; font-size: 13px; '>등록된 댓글이 없습니다.</p>");
                return;
            }
            $.each(list, function (i, reply) {
                text += "<div style='border-bottom-width: 1px;'>"
                text += "<div style='padding-top: 0.75rem;'>"
                text += "<div style='padding-left: 0.5rem;'>"
                text += "<div style='align-items: center; display: flex;'>"
                text += "<div class='userName'>"
                text += "<a>"//사진이랑 사람선택하는 페이지로 링크걸기
                text += "<span class='profile-image'></span>"
                text += "</a>"
                text += "<div class='justify-content overflow-hidden flex' style='flex-direction: column;'>"
                text += "<div class='item-center flex'>"
                text += "<span class='getUser'>"+reply.userName+"</span>"
                text += "</div>"
                text += "</div>"
                text += "</div>"
                text += "<span style='margin-left:8px; font-size:10px; padding-top:5px;color:#aaa;'>"+ replyService.getReplyDate(reply.replyUpdateDate) + "</span>"//등록날짜
                if(reply.userNum == userNum){
                    text += "<div>"
                    text += "<span th:text='${board.boardTitle}'></span>"
                    text += "<a class='change " + reply.replyNum + "' style='cursor: pointer; '>수정</a>"
                    text += "<a class='delete " + reply.replyNum + "' style='cursor: pointer; '>삭제</a>"
                    text += "<a class='changeOk " + reply.replyNum + "'style='display: none; cursor: pointer;'>수정완료</a>"
                    text += "<a class='cancel " + reply.replyNum + "'style='display: none; cursor: pointer;'>취소</a>"
                    text += "</div>"
                }
                text += "</div>"
                text += "<div class='comment-content'>"
                text += "<p class='" + reply.replyNum + "' style='padding-left:24px; padding-top: 5px;'>" + reply.replyContent + "</p>"
                text += "</div>"
                text += "</div>"
                text += "</div>"
                text += "</div>"
            });
            replyList.html(text);
            showReplyPage(total);
            replyTotal.text(total);
        });
    }

    function showReplyPage(total){
        const $paging = $("div.paging");
        let text = "";
        let endPage = Math.ceil(pageNum / 5.0) * 5;
        let startPage = endPage - 4;
        let realEnd = Math.ceil(total / 5.0);

        if(endPage > realEnd){endPage = realEnd;}

        let next = endPage * 5 < total;
        let prev = startPage > 1;

        if(prev){
            text += "<a class='changePage' href='" + (startPage - 1) +"'><code>&lt;</code></a>";
        }
        for(let i=startPage; i<=endPage; i++){
            text += pageNum == i ? "<code style='padding: 0 10px;'>" + i + "</code>" : "<a class='changePage' href='" + i + "'><code style='padding:0 10px;'>" + i + "</code></a>";
        }

        if(next){
            text += "<a class='changePage' href='" + (endPage + 1) +"'><code>&gt;</code></a>";

        }
        $paging.html(text);
    }

    $(".paging").on("click", "a.changePage", function(e){
        e.preventDefault();
        pageNum = $(this).attr("href");
        showList(pageNum);
    });


    $(".comment-submit").on("click",function(e){
        e.preventDefault();
        const replyComment = $("input[name='comment']").val();

        if(!replyComment){
            alert("내용을 입력해주세요");
            return;
        }
        replyService.add({
            boardNum: boardNum,
            replyContent: replyComment,
            userNum : userNum

        }, function(result){
            $("input[name='comment']").val("");
            showList(1);
            replyService.getReplyCount({
                boardNum:boardNum
            },function (result) {

            });
        });
    });

    let contentOriginal = "";
    let modifyCheck = false;
    $("div.reply_list").on("click","div a.change",function (e) {
        e.preventDefault();

        if(modifyCheck){
            alert("이미 수정중인 댓글이 있습니다.");
            return;
        }
        modifyCheck = true;
        let text = "";
        let replyNum = this.classList[1];
        contentOriginal = $("p." + replyNum).text();

        console.log($("a." + replyNum));
        $("a." + replyNum).show();
        $(this).hide();
        $(this).next().hide();

        text += "<textarea class='" + replyNum + "' style='resize: none;height: 35px; outline: none;border: 1px solid #e3e3e3;border-radius: 13px;padding: 5px 23px;'>";
        text += $("p." + replyNum).text();
        text += "</textarea>";

        $("p." + replyNum).replaceWith(text);
        $("textarea." + replyNum).css("width", "90%");
    });

    $("div.reply_list").on("click", "div a.cancel", function(e){
        e.preventDefault();
        modifyCheck = false;
        let text = "";
        let replyNum = this.classList[1];

        $("a." + replyNum).show();
        $(this).hide();
        $(this).prev().hide();

        text += "<p class='" + replyNum + "'>";
        text += contentOriginal;
        text += "</p>";

        $("textarea." + replyNum).replaceWith(text);
    });

    $("div.reply_list").on("click", "div a.delete", function(e){
        replyService.remove(this.classList[1], function(result){
            showList(pageNum);
            replyService.getReplyCount({
                boardNum:boardNum
            },function (result) {

            });
        });
    });

    $("div.reply_list").on("click", "div a.changeOk", function(e){
        let replyNum = this.classList[1];
        replyService.modify({
            replyNum: replyNum,
            replyContent: $("textarea." + replyNum).val()
        }, function(result){
            showList(pageNum);
            modifyCheck = false;
        });
    });


    getCount(boardNum);
    function getCount(boardNum){
        likeService.heartCount(boardNum,function (result) {
            $(".like-count").text(result);
            $(".likeCount").text("좋아요 " +result);
        });
    }


    let CountCheck = false;

    $(".heart").on("click",function (e) {
        e.preventDefault();

        if (CountCheck) {
            console.log("삭제");
            likeService.heartDown({
                boardNum: boardNum,
                userNum: userNum
            }, function (result) {
                console.log("클래스 삭제 " + result);
                curious.removeClass("color-changeAppil");
                badge.removeClass("color-changeAppil");
                good.removeClass("icon-changeAppil");
                console.log(boardNum);
                getCount(boardNum);
                likeService.CountUp({
                    boardNum:boardNum
                },function (result) {
                    console.log("업뎃 성공 : " + result);
                });
            });
            CountCheck = false;
        }else if(!CountCheck){
            likeService.heartUp({
                boardNum: boardNum,
                userNum : userNum
            },function (result) {
                console.log("추가");
                curious.addClass("color-changeAppil");
                badge.addClass("color-changeAppil");
                good.addClass("icon-changeAppil");
                getCount(boardNum);
                likeService.CountUp({
                    boardNum:boardNum
                },function (result) {
                    console.log("업뎃 성공 : " + result);
                });
            });
            CountCheck = true;
        }
    });

    getWarringCount(boardNum);
    function getWarringCount(boardNum){
        warringService.warringCount(boardNum,function (result) {
            $(".warringCount").text("신고 "+ result);
        });
    }

    let warringCountCheck = false;

    $(".warringButton").on("click",function (e) {
        e.preventDefault();

        if (warringCountCheck) {
            console.log("삭제");
            warringService.warringDown({
                boardNum: boardNum,
                userNum: userNum
            }, function (result) {
                console.log(boardNum);
                $(".declaration-button").removeClass("declaration-color");
                $(".declaration-text").removeClass("declaration-text-color");
                getWarringCount(boardNum);
                warringService.warringCountUp({
                    boardNum:boardNum
                },function (result) {
                    console.log("업뎃 성공 : " + result);
                });
            });
            warringCountCheck = false;
        }else if(!warringCountCheck){
            warringService.warringUp({
                boardNum: boardNum,
                userNum : userNum
            },function (result) {
                console.log("추가");
                $(".declaration-button").addClass("declaration-color");
                $(".declaration-text").addClass("declaration-text-color");
                getWarringCount(boardNum);
                warringService.warringCountUp({
                    boardNum:boardNum
                },function (result) {
                    console.log("업뎃 성공 : " + result);
                });
            });
            warringCountCheck = true;
        }
    });

    function goUpdate(){
        location.href="/board/reviewBoardUpdate?boardNum="+ boardNum + "&boardField=" + boardField ;
    }
</script>
</html>